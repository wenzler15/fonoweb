"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.safe = void 0;
const isPresent_1 = require("./isPresent");
function safeMap(callback, value) {
    if (!(0, isPresent_1.isPresent)(value) && arguments.length === 1) {
        return (value) => {
            return (0, isPresent_1.isPresent)(value) ? callback(value) : undefined;
        };
    }
    return (0, isPresent_1.isPresent)(value) ? callback(value) : undefined;
}
function safeFold(ifNotPresent, ifPresent, value) {
    if (arguments.length === 1 && !(0, isPresent_1.isPresent)(value) && !(0, isPresent_1.isPresent)(ifPresent)) {
        return (ifPresent) => safeFold(ifNotPresent, ifPresent);
    }
    if (arguments.length === 2 && !(0, isPresent_1.isPresent)(value) && (0, isPresent_1.isPresent)(ifPresent)) {
        return (value) => safeFold(ifNotPresent, ifPresent, value);
    }
    return (0, isPresent_1.isPresent)(value) ? ifPresent(value) : ifNotPresent();
}
exports.safe = {
    map: safeMap,
    fold: safeFold,
};
